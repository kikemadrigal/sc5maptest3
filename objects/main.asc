10 'Converted with MSX Basic Dignified
20 'https://github.com/farique1/msx-basic-dignified
30 OPEN"grp:"AS#1:DEFINTA-Z
40 DEFUSR1=&H41:DEFUSR2=&H44
50 GOSUB570
60 GOSUB600
70 GOSUB120
80 GOSUB270
90 GOSUB150
100 GOSUB320
110 GOTO90
120 GOSUB200
130 GOSUB180
140 RETURN
150 IFMCTHENGOSUB200
160 GOSUB180
170 RETURN
180 PUTSPRITEPS,(PX,PY),,PP
190 RETURN
200 CLS
210 IFMS=0THENGOSUB620
220 IFMS=1THENGOSUB710
230 IFMS=2THENGOSUB860
240 PRESET(0,0):PRINT#1,"level "MS
250 MC=0
260 RETURN
270 STRIG(0)ON
280 ONSTRIGGOSUB590
290 RETURN
300 ONSTICK(0)GOSUB460,300,380,300,500,300,420
310 RETURN
320 J=STICK(0)
330 IFJ=3THENGOSUB380
340 IFJ=7THENGOSUB420
350 IFJ=1THENGOSUB460
360 IFJ=5THENGOSUB500
370 RETURN
380 PX=PX+PV
390 PP=1
400 GOSUB540
410 RETURN
420 PX=PX-PV
430 PP=3
440 GOSUB540
450 RETURN
460 PY=PY-PV
470 PP=7
480 GOSUB540
490 RETURN
500 PY=PY+PV
510 PP=5
520 GOSUB540
530 RETURN
540 IFPX>=255-PWORPX<0ORPY<0ORPY>212-PHTHENGOSUB570:MS=MS+1:MC=1:PUTSPRITEPS,(0,-32),,PP
550 IFMS>=MM-1THENMS=0
560 RETURN
570 PX=100:PY=212-16-16-16:PW=16:PH=16:PD=3:PU=0:PV=10:PE=100:PC=0:PP=1:PS=1
580 RETURN
590 RETURN
600 MS=0:MM=4:MC=0:TN=-1
610 RETURN
620 TX=6*16:TY=0*16:TW=3*16:TH=2*16
630 FORC=0TO256STEP100
640 COPY(TX,TY)-(TX+TW,TY+TH),1TO(C,90)
650 NEXTC
660 TX=0:TY=0:TW=1*16:TH=1*16
670 FORC=0TO212+TW+1STEPTW
680 COPY(TX,TY)-(TW,TH),1TO(C,180)
690 NEXTC
700 RETURN
710 TX=6*16:TY=0*16:TW=3*16:TH=2*16
720 FORC=0TO256STEP40
730 COPY(TX,TY)-(TX+TW,TY+TH),1TO(C,90)
740 NEXTC
750 TX=0:TY=0:TW=1*16:TH=1*16
760 FORC=0TO50STEPTW
770 COPY(TX,TY)-(TX+TW,TY+TH),1TO(C,180)
780 NEXTC
790 FORC=100TO150STEPTW
800 COPY(TX,TY)-(TX+TW,TY+TH),1TO(C,180)
810 NEXTC
820 FORC=192TO212+TWSTEPTW
830 COPY(TX,TY)-(TX+TW,TY+TH),1TO(C,180)
840 NEXTC
850 RETURN
860 TX=12*16:TY=11*16:TW=4*16:TH=3*16
870 FORC=0TO256STEP100
880 COPY(TX,TY)-(TX+TW,TY+TH),1TO(C,90)
890 NEXTC
900 TX=4*16:TY=1*16:TW=1*16:TH=1*16
910 FORC=0TO212+TW+1STEPTW
920 COPY(TX,TY)-(TX+TW,TY+TH),1TO(C,180)
930 NEXTC
940 RETURN
